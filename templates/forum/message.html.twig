{% extends 'base.html.twig' %}

{% block content %}
    <div class="container">
        <a type="button" class="btn btn-sm btn-outline-secondary" href="/">Retour</a>
        (doit retourner à la bonne catégorie)
        <div class="message">
            <div class="jumbotron border bg-light ">
                <div class="container lg-12">
                    <div class="d-flex flex-row-reverse">
                        <small class="text-muted">
                            (nombre de réponses au topic)
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16">
                                <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                                <path d="M2.165 15.803l.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"/>
                            </svg>
                        </small>
                    </div>
                    <div class="d-flex flex-column">
                        <p class="h4">(nom du topic)</p>
                        <small>(nom de l'auteur)</small>
                        <small class="text-muted">(JJ/MM/AAAA H:M)<br><br></small>
                        <p>
                            (sujet du topic)
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras in velit quis velit pharetra dapibus ut et arcu.
                            Interdum et malesuada fames ac ante ipsum primis in faucibus. Sed in mi odio. In a mauris ornare lectus congue pulvinar.
                            In hac habitasse platea dictumst. Morbi sed lorem urna. Suspendisse aliquet est id justo ullamcorper,
                            (/sujet du topic)
                        </p>
                    </div>
                </div>
            </div>
            {% for message in messages %}
                <div class="jumbotron border bg-light ">
                    <div class="container lg-12">
                        <div class="d-flex flex-column">
                            <small>{{ message.getPseudoUser() }}</small>
                            <small class="text-muted">{{ message.getDateHeureMess()|date("m/d/Y")}} à {{message.getDateHeureMess|date("H:i")}}<br><br></small>
                            <p>{{ message.getContenuMess() }}</p>
                        </div>
                    </div>
                </div>
            {% endfor %}
            {% if app.user.username is defined %}
                <div class="jumbotron border bg-light ">
                    <div class="container lg-12">
                        {{  form_start(formMessage) }}
                            {{ form_label(formMessage.contenuMess, 'Répondre' )}}
                            {{ form_widget(formMessage.contenuMess, {'attr': {'id': "titre", 'placeholder': "Votre message", 'maxlength': "100", 'minlength': "2"}})}}
                            
                            <small id="emailHelp" class="form-text text-muted">500 caractères max.</small>

                            <button type="submit" class="btn btn btn-primary">Envoyer</button>
                        {{  form_end(formMessage) }}
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}